class RefreshBar {

  // SECTION:
  // Elements

  static getRefreshBarElement() {
    return $('.refreshBar');
  }

  static getMessageElement() {
    return RefreshBar.getRefreshBarElement().find('.refreshBarMessage');
  }

  static checkForRefresh() {
    let todayStr = DateStrings.today(true);
    if (RefreshBar.todayStr) {
      if (RefreshBar.todayStr !== todayStr) {
        RefreshBar.getRefreshBarElement().show();
        RefreshBar.getMessageElement().text('Date changed, please refresh');
        window.clearInterval(RefreshBar.intervalId);
      }
    } else {
      RefreshBar.todayStr = todayStr;
    }
  }

  static init() {
    RefreshBar.intervalId = window.setInterval(RefreshBar.checkForRefresh, RefreshBar.PERIOD_SECONDS * 1000);
  }
}

RefreshBar.PERIOD_SECONDS = 5;
